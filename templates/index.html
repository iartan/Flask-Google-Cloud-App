<!--
 Copyright 2021 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
<!DOCTYPE html>
<html lang="de">

</html>

<head>
	<title>Google Cloud Datastore und Firebase Auth Beispiel</title>
	<script src="https://www.gstatic.com/firebasejs/ui/4.4.0/firebase-ui-auth.js"></script>
	<link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.4.0/firebase-ui-auth.css" />
	<script src="{{ url_for('static', filename='script.js') }}"></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand" href="/">Flask To-Do</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item">
					<a class="nav-link" href="#">Google Cloud Datastore und Firebase Auth Beispiel</a>
				</li>
			</ul>
			<form class="form-inline my-2 my-lg-0">
				<input class="form-control mr-sm-2" type="search" placeholder="{{ user_data['email'] }}" aria-label="Search">
				<button id="sign-out" hidden=true class="btn btn-outline-success my-2 my-sm-0" type="submit">Abmelden</button>
			</form>
		</div>
	</nav>
	<main>
		<div class="container">
				<div id="firebaseui-auth-container"></div>
				<button id="sign-out" hidden=true>Sign Out</button>

				<div id="login-info" hidden=true>
				{% if user_data %}
					<!-- Cards start here -->
					<div class="row row-cols-1 row-cols-md-3 g-4">
						{% for list in db %}
						<div class="col" style="padding-top: 2rem;">
							<div class="card bg-{% for key3 in list %}{% if key2 == 'color' %}Test1{% if (key3 == 'warning') or (key3 == 'light') %} test2 {% else %} test3{% endif %}{% endif %}{% endfor %}" style="width: 15rem;">
								<div class="card-header">
									{% for key, value in list.items() %}
									{% if key == 'title' %}
										{{ value }}
									{% endif %}
									{% endfor %}
								</div>
								
								<ul class="list-group list-group-flush scroll " style="max-height: 15rem; min-height: 15rem;">
								{% for key, value in list.items() %}
									{% if key == 'tasks' %}
										{% for item in value %}
									<li class="list-group-item bg-primary" style="padding-left: -10px;">
										&nbsp;
										<input value="{{ loop.index }}" type="hidden" name="task_index">
										<input style="padding-right: 10px;"class="form-check-input me-1" type="checkbox" autocomplete="off" id="q156" name="quality[25]" value="">
										{{ item['name'] }}
									</li>
									{% endfor %}
									{% endif %}
								{% endfor %}
								</ul>
								<div class="card-body" style="max-height: 5rem;">
									<form method="post">
										<div class="input-group">
											<input value="" class="form-control " placeholder="Neue Aufgabe" name="input" type="text">
											<input value="{{ loop.index }}" type="hidden" name="callback">
											<button class="btn btn-primary mb-3" type="submit">+</button>
										</div>
									</form>
								</div>
							</div>
						</div>
						
						{% endfor %} 
						<!-- New list card here -->
						<div class="col" style="padding-top: 2rem;"> 
							<div class="card h-100" style="width: 18rem;">
								<div class="card-body text-white bg-primary mb-3" style="max-height: 8rem;">
									<h5 class="card-title">Neue Liste erstellen</h5>
									<p class="card-text">Namen eingeben und Farbe w√§hlen</p>
								</div>
								<div class="card-body" style="max-height: 5rem; min-height: 15rem;">
									<form method="post">
										<div class="input-group">
											<input value="" class="form-control " placeholder="Neue Liste" name="input" type="text">
											<input value="new_list" type="hidden" name="callback">
										</div>
										<div class="input-group text-center">
											<button value="primary" name="color" class="btn btn-primary btn-lg" type="submit" style="margin: 0.5rem;">+</button>
											<button value="secondary" name="color" class="btn btn-secondary btn-lg" type="submit" style="margin: 0.5rem;">+</button>
											<button value="success" name="color" class="btn btn-success btn-lg" type="submit" style="margin: 0.5rem;">+</button>
											<button value="danger" name="color" class="btn btn-danger btn-lg" type="submit" style="margin: 0.5rem;">+</button>
											<button value="warning" name="color" class="btn btn-warning btn-lg" type="submit" style="margin: 0.5rem;">+</button>
											<button value="info" name="color" class="btn btn-info btn-lg" type="submit" style="margin: 0.5rem;">+</button>
											<button value="light" name="color" class="btn btn-outline-dark btn-lg" type="submit" style="margin: 0.5rem;">+</button>
											<button value="dark" name="color" class="btn btn-dark btn-lg" type="submit" style="margin: 0.5rem;">+</button>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
					{{ db }} 
				{% elif error_message %}
					<p>Error: {{ error_message }}</p>
				{% endif %}
			</div>
		</div>
	</main>
	<!-- MOCK SNIPPET: DO NOT COPY -->
	<!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-app.js"></script>

	<!-- TODO: Add SDKs for Firebase products that you want to use
	
     https://firebase.google.com/docs/web/setup#available-libraries -->

	<script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-auth.js"></script>

	<!-- Bootstrap scripts in here: -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
		crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous"></script>

	<script src="{{url_for('static', filename='firebase-config.js')}}"></script>

</body>

</html>